(function(){"use strict";function i(i,t,e,n){i.addEventListener(t,e,!n&&!1!==n||n)}function t(i){i.stopPropagation(),i.cancelable&&i.preventDefault()}function e(i,t,e){e=""+e,i["_s_"+t]!==e&&(i.style.setProperty(t,e),i["_s_"+t]=e)}function n(i,t){if(!(this instanceof n))return new n(i);var h,r;if(b||o(),this.g=u.cloneNode(!0),this.body=this.g.getElementsByClassName("wb-body")[0],i){if(t){var l=i;i=t}if("string"==typeof i)l=i;else{if(r=i.modal)var d=h="center";var m=i.id,c=i.root;l=l||i.title;var w=i.mount,g=i.html,x=i.url,f=i.width,M=i.height;d=i.x||d,h=i.y||h;var y=i.max,I=i.top,A=i.left,C=i.bottom,N=i.right;b=i.index||b;var D=i.onclose,L=i.onfocus,j=i.onblur,E=i.onmove,T=i.onresize;t=i.background;var k=i.border,S=i.class;t&&this.setBackground(t),k&&e(this.body,"margin",k+(isNaN(k)?"":"px"))}}this.setTitle(l||""),i=p,l=v,I=I?s(I,l):0,C=C?s(C,l):0,A=A?s(A,i):0,N=N?s(N,i):0,i-=A+N,l-=I+C,f=f?s(f,i):i/2|0,M=M?s(M,l):l/2|0,d=d?s(d,i,f):A,h=h?s(h,l,M):I,b=b||10,this.g.id=this.id=m||"winbox-"+ ++z,this.g.className="winbox"+(S?" "+("string"==typeof S?S:S.join(" ")):"")+(r?" modal":""),this.x=d,this.y=h,this.width=f,this.height=M,this.top=I,this.right=N,this.bottom=C,this.left=A,this.max=this.min=!1,this.j=D,this.l=L,this.i=j,this.o=E,this.m=T,y?this.maximize():this.move().resize(),this.focus(),w?this.mount(w):g?this.body.innerHTML=g:x&&this.setUrl(x),a(this),(c||document.body).appendChild(this.g)}function s(i,t,e){return"string"==typeof i&&("center"===i?i=(t-e)/2|0:"right"===i||"bottom"===i?i=t-e:(e=parseFloat(i),i="%"===(""+e!==i&&i.substring((""+e).length))?t/100*e|0:e)),i}function o(){var t=document.body;t[f="requestFullscreen"]||t[f="msRequestFullscreen"]||t[f="webkitRequestFullscreen"]||t[f="mozRequestFullscreen"]||(f=""),M=f&&f.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),i(window,"resize",function(){p=y.clientWidth,v=y.clientHeight,r()}),p=y.clientWidth,v=y.clientHeight}function a(e){l(e,"title"),l(e,"n"),l(e,"s"),l(e,"w"),l(e,"e"),l(e,"nw"),l(e,"ne"),l(e,"se"),l(e,"sw"),i(e.g.getElementsByClassName("wb-min")[0],"click",function(i){t(i),e.minimize()}),i(e.g.getElementsByClassName("wb-max")[0],"click",function(i){t(i),e.focus().maximize()}),f?i(e.g.getElementsByClassName("wb-full")[0],"click",function(i){t(i),e.focus().fullscreen()}):e.addClass("no-full"),i(e.g.getElementsByClassName("wb-close")[0],"click",function(i){t(i),e.close(),e=null}),i(e.g,"click",function(){e.focus()},!1)}function h(i){I.splice(I.indexOf(i),1),r(),i.removeClass("min"),i.min=!1,i.g.title=""}function r(){for(var i,t,e=I.length,n=0;n<e;n++)i=I[n],t=Math.min((p-2*i.left)/e,250),i.resize(t+1|0,35,!0).move(i.left+n*t|0,v-i.bottom-35,!0)}function l(n,s){function o(s){t(s),n.min?(h(n),n.resize().move().focus()):(e(n.g,"transition","none"),(l=s.touches)&&(l=l[0])?(s=l,i(window,"touchmove",a),i(window,"touchend",r)):(i(window,"mousemove",a),i(window,"mouseup",r)),d=s.pageX,m=s.pageY,n.focus())}function a(i){t(i),l&&(i=i.touches[0]);var e=i.pageX;i=i.pageY;var o,a=e-d,h=i-m;if("title"===s){n.x+=a,n.y+=h;var r=o=1}else{if("e"===s||"se"===s||"ne"===s){n.width+=a;var c=1}else"w"!==s&&"sw"!==s&&"nw"!==s||(n.x+=a,n.width-=a,r=c=1);if("s"===s||"se"===s||"sw"===s){n.height+=h;var w=1}else"n"!==s&&"ne"!==s&&"nw"!==s||(n.y+=h,n.height-=h,o=w=1)}(c||w)&&(c&&(n.width=Math.max(Math.min(n.width,p-n.x-n.right),150)),w&&(n.height=Math.max(Math.min(n.height,v-n.y-n.bottom),35)),n.resize()),(r||o)&&(r&&(n.x=Math.max(Math.min(n.x,p-n.width-n.right),n.left)),o&&(n.y=Math.max(Math.min(n.y,v-n.height-n.bottom),n.top)),n.move()),d=e,m=i}function r(i){t(i),e(n.g,"transition",""),l?(window.removeEventListener("touchmove",a,!0),window.removeEventListener("touchend",r,!0)):(window.removeEventListener("mousemove",a,!0),window.removeEventListener("mouseup",r,!0))}var l,d,m,c=n.g.getElementsByClassName("wb-"+s)[0];i(c,"mousedown",o),i(c,"touchstart",o,{passive:!1})}function d(){if(g=!1,document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[M](),!0}var m,c=document.createElement("style");c.innerHTML="@keyframes fade-in{0%{opacity:0}to{opacity:.85}}.winbox.modal:after,.winbox.modal:before{content:''}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,transform .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);will-change:transform,width,height;contain:layout size;text-align:left;touch-action:none}.max,.no-shadow{box-shadow:none}.wb-header,.winbox iframe{position:absolute;width:100%}.wb-header{left:0;top:0;height:35px;color:#fff;overflow:hidden}.wb-body,.wb-n,.wb-s{position:absolute;left:0}.wb-n,.wb-s{height:10px}.wb-body{right:0;top:35px;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict}.wb-title{font-family:Arial,sans-serif;font-size:14px;padding-left:10px;cursor:move;line-height:35px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-n{top:-5px;right:0;cursor:n-resize}.wb-e{position:absolute;top:0;right:-5px;bottom:0;width:10px;cursor:w-resize}.wb-s,.wb-se,.wb-sw{bottom:-5px}.wb-s{right:0;cursor:n-resize}.wb-w,.winbox.modal:before{position:absolute;top:0;bottom:0}.wb-w{left:-5px;width:10px;cursor:w-resize}.wb-ne,.wb-nw,.wb-sw{width:15px;height:15px;position:absolute}.wb-nw{top:-5px;left:-5px;cursor:nw-resize}.wb-ne,.wb-sw{cursor:ne-resize}.wb-ne{top:-5px;right:-5px}.wb-sw{left:-5px}.wb-se{position:absolute;right:-5px;width:15px;height:15px;cursor:nw-resize}.wb-icon{float:right;height:35px;max-width:100%;text-align:center}.wb-icon *{display:inline-block;width:30px;height:100%;background-position:center;background-repeat:no-repeat;cursor:pointer;max-width:100%}.no-close .wb-close,.no-full .wb-full,.no-header .wb-header,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.winbox.min .wb-body>*,.winbox.min .wb-full,.winbox.min .wb-min,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center bottom 11px}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.max .wb-body~div,.winbox.max .wb-title,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-title{pointer-events:none}.winbox.min .wb-title{cursor:default}.max .wb-body{margin:0!important}.winbox iframe{height:100%;border:0}.winbox.modal:before{left:0;right:0;background:inherit;border-radius:inherit}.winbox.modal:after{position:absolute;top:-100vh;left:-100vw;right:-100vw;bottom:-100vh;background:#0d1117;animation:fade-in .2s ease-out forwards;z-index:-1}.no-animation{transition:none}.no-header .wb-body{top:0}.no-move:not(.min) .wb-title{pointer-events:none}";var w=document.getElementsByTagName("head")[0];w.firstChild?w.insertBefore(c,w.firstChild):w.appendChild(c);var u=document.createElement("div");u.innerHTML="<div class=wb-header><div class=wb-icon><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-title> </div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";var b,g,x,f,M,p,v,y=document.documentElement,I=[],z=0;n.new=function(i){return new n(i)},m=n.prototype,m.mount=function(i){return this.unmount(),i.h||(i.h=i.parentNode),this.body.textContent="",this.body.appendChild(i),this},m.unmount=function(i){var t=this.body.firstChild;if(t){var e=i||t.h;e&&e.appendChild(t),t.h=i}return this},m.setTitle=function(i){return i=this.title=i,this.g.getElementsByClassName("wb-title")[0].firstChild.nodeValue=i,this},m.setBackground=function(i){return e(this.g,"background",i),this},m.setUrl=function(i){return this.body.innerHTML='<iframe src="'+i+'"></iframe>',this},m.focus=function(){return x!==this&&(e(this.g,"z-index",b++),this.addClass("focus"),x&&(x.removeClass("focus"),x.i&&x.i()),x=this,this.l&&this.l()),this},m.hide=function(){return this.addClass("hide")},m.show=function(){return this.removeClass("hide")},m.minimize=function(i){return g&&d(),!i&&this.min?(h(this),this.resize().move()):!1===i||this.min||(I.push(this),r(),this.g.title=this.title,this.addClass("min"),this.min=!0),this.max&&(this.removeClass("max"),this.max=!1),this},m.maximize=function(i){return void 0!==i&&i===this.max||(this.min&&h(this),(this.max=!this.max)?this.addClass("max").resize(p-this.left-this.right,v-this.top-this.bottom,!0).move(this.left,this.top,!0):this.resize().move().removeClass("max")),this},m.fullscreen=function(i){return void 0!==i&&i===g||(this.min&&(this.resize().move(),h(this)),g&&d()||(this.body[f](),g=!0)),this},m.close=function(){this.min&&h(this),this.j&&this.j(),this.unmount(),this.g.parentNode.removeChild(this.g),x===this&&(x=null)},m.move=function(i,t,n){return void 0===i?(i=this.x,t=this.y):n||(this.x=i?i=s(i,p-this.left-this.right,this.width):0,this.y=t?t=s(t,v-this.top-this.bottom,this.height):0),e(this.g,"transform","translate("+i+"px,"+t+"px)"),this.o&&this.o(i,t),this},m.resize=function(i,t,n){return void 0===i?(i=this.width,t=this.height):n||(this.width=i?i=s(i,p-this.left-this.right):0,this.height=t?t=s(t,v-this.top-this.bottom):0),e(this.g,"width",i+"px"),e(this.g,"height",t+"px"),this.m&&this.m(i,t),this},m.addClass=function(i){return this.g.classList.add(i),this},m.removeClass=function(i){return this.g.classList.remove(i),this},window.WinBox=n}).call(this);